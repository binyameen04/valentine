<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be My Valentine? üíï</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #FF1493;
            --secondary: #FF69B4;
            --accent: #FFB6C1;
            --bg-light: #FFF0F5;
            --text-dark: #4A0E4E;
            --white: #FFFFFF;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #FFE5EC 0%, #FFC7D7 50%, #FFB3C6 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Floating hearts background animation */
        .hearts-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            font-size: 20px;
            opacity: 0.3;
            animation: float-up 15s infinite;
        }

        @keyframes float-up {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.3;
            }
            90% {
                opacity: 0.3;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Main container */
        .container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        /* Proposal Screen */
        .proposal-screen {
            text-align: center;
            max-width: 500px;
            width: 100%;
            animation: fadeIn 0.8s ease-in-out;
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .proposal-screen.hiding {
            opacity: 0;
            transform: translateY(-100px);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .gif-container {
            margin-bottom: 30px;
            position: relative;
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .proposal-screen.hiding .gif-container {
            transform: translateY(-120px) scale(0.85);
        }

        .gif-container img {
            width: 100%;
            max-width: 350px;
            height: auto;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(255, 20, 147, 0.3);
            transition: transform 0.3s ease;
        }

        .gif-container img:hover {
            transform: scale(1.05);
        }

        h1 {
            font-family: 'Pacifico', cursive;
            font-size: clamp(32px, 8vw, 56px);
            color: var(--primary);
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.3);
            animation: pulse 2s ease-in-out infinite;
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .proposal-screen.hiding h1 {
            opacity: 0;
            transform: translateY(-30px);
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .button-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 40px;
            min-height: 80px;
            position: relative;
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .proposal-screen.hiding .button-container {
            opacity: 0;
            transform: translateY(-30px);
        }

        button {
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
            font-size: 20px;
            padding: 18px 45px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            touch-action: manipulation;
            min-width: 140px;
            max-width: 90vw;
            white-space: normal;
            word-wrap: break-word;
            overflow-wrap: break-word;
            text-overflow: clip;
            line-height: 1.4;
            text-align: center;
        }

        @media (max-width: 768px) {
            button {
                font-size: 15px;
                padding: 14px 25px;
                line-height: 1.3;
                max-width: 80vw;
            }
        }

        @media (max-width: 480px) {
            button {
                font-size: 13px;
                padding: 12px 20px;
                max-width: 75vw;
                min-width: 100px;
            }
        }

        .yes-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: var(--white);
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% {
                box-shadow: 0 8px 25px rgba(255, 20, 147, 0.4);
            }
            50% {
                box-shadow: 0 8px 40px rgba(255, 20, 147, 0.8);
            }
        }

        .yes-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 35px rgba(255, 20, 147, 0.6);
        }

        .yes-btn:active {
            transform: scale(1.05);
        }

        .no-btn {
            background: rgba(255, 255, 255, 0.8);
            color: var(--text-dark);
            border: 2px solid var(--accent);
            position: absolute;
            transition: all 0.2s ease;
            white-space: normal;
            word-wrap: break-word;
            text-align: center;
            line-height: 1.3;
            max-width: 85vw;
            min-width: 110px;
            padding: 12px 24px;
        }

        .no-btn:hover {
            background: rgba(255, 255, 255, 0.9);
        }

        /* Celebration Screen */
        .celebration-screen {
            display: none;
            text-align: center;
            max-width: 800px;
            width: 100%;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .celebration-screen.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .celebration-gif {
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(40px);
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1) 0.6s;
        }

        .celebration-screen.active .celebration-gif {
            opacity: 1;
            transform: translateY(0);
        }

        .celebration-gif img {
            width: 100%;
            max-width: 300px;
            height: auto;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(255, 20, 147, 0.3);
        }

        .celebration-message {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 30px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 20px 60px rgba(255, 20, 147, 0.2);
            backdrop-filter: blur(10px);
            opacity: 0;
            transform: translateY(40px);
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1) 1.0s;
        }

        .celebration-screen.active .celebration-message {
            opacity: 1;
            transform: translateY(0);
        }

        .celebration-message h2 {
            font-family: 'Pacifico', cursive;
            font-size: clamp(36px, 8vw, 52px);
            color: var(--primary);
            margin-bottom: 20px;
        }

        .celebration-message p {
            font-size: clamp(16px, 4vw, 20px);
            color: var(--text-dark);
            line-height: 1.8;
            font-weight: 500;
        }

        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 40px;
            opacity: 0;
            transform: translateY(40px);
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1) 1.4s;
        }

        .celebration-screen.active .photo-gallery {
            opacity: 1;
            transform: translateY(0);
        }

        .photo-item {
            position: relative;
            overflow: hidden;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(255, 20, 147, 0.2);
            aspect-ratio: 1;
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .celebration-screen.active .photo-item {
            opacity: 1;
            transform: scale(1);
        }

        .celebration-screen.active .photo-item:nth-child(1) { transition-delay: 1.8s; }
        .celebration-screen.active .photo-item:nth-child(2) { transition-delay: 2.0s; }
        .celebration-screen.active .photo-item:nth-child(3) { transition-delay: 2.2s; }
        .celebration-screen.active .photo-item:nth-child(4) { transition-delay: 2.4s; }
        .celebration-screen.active .photo-item:nth-child(5) { transition-delay: 2.6s; }
        .celebration-screen.active .photo-item:nth-child(6) { transition-delay: 2.8s; }
        .celebration-screen.active .photo-item:nth-child(7) { transition-delay: 3.0s; }
        .celebration-screen.active .photo-item:nth-child(8) { transition-delay: 3.2s; }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .photo-item:hover img {
            transform: scale(1.1);
        }

        /* Confetti overlay */
        .confetti-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            display: none;
        }

        .confetti-overlay.active {
            display: block;
        }

        .confetti-piece {
            position: absolute;
            width: 10px;
            height: 10px;
            background: var(--primary);
            top: -10px;
            animation: confetti-fall 3s ease-in-out forwards;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .button-container {
                gap: 15px;
            }

            .celebration-message {
                padding: 30px 20px;
            }

            .photo-gallery {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
        }

        @media (max-width: 480px) {
            h1 {
                margin-bottom: 30px;
            }

            .button-container {
                min-height: 70px;
            }

            .photo-gallery {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }

        /* Loading placeholder for images */
        .photo-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        .photo-item img {
            position: relative;
            z-index: 1;
        }
    </style>
</head>
<body>
    <!-- Floating hearts background -->
    <div class="hearts-bg" id="heartsBackground"></div>

    <!-- Confetti overlay -->
    <div class="confetti-overlay" id="confettiOverlay"></div>

    <div class="container">
        <!-- Proposal Screen -->
        <div class="proposal-screen" id="proposalScreen">
            <div class="gif-container">
                <img id="proposalGif" src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif" alt="Puppy with pleading eyes">
            </div>
            <h1>Will you be my Valentine? üíï</h1>
            <div class="button-container" id="buttonContainer">
                <button class="yes-btn" id="yesBtn">Yes! üíñ</button>
                <button class="no-btn" id="noBtn">No</button>
            </div>
        </div>

        <!-- Celebration Screen -->
        <div class="celebration-screen" id="celebrationScreen">
            <div class="celebration-gif">
                <img src="https://media.giphy.com/media/g9582DNuQppxC/giphy.gif" alt="Celebration">
            </div>
            <div class="celebration-message">
                <h2>Yay! üéâ‚ú®</h2>
                <p>
                    I'm sooooooooooooooo happy you said yessssssssss ‚ù§Ô∏è
                    <br><br>
                    I'm so grateful for the year we had Ponnu, can't wait to spend a lifetime with you Shuttu, you are my favorite human being in the whole wide world and I'm ever so grateful for your existence and having you in my life. We turn One today Muthu, Forever grateful. Mmmwuaaaaaaaaaaaaahhhh!!!!
                </p>
            </div>
            <div class="photo-gallery">
                <!-- Row 1 -->
                <div class="photo-item">
                    <img src="https://lh3.googleusercontent.com/d/1eRTjkClJlyHGRAkOwrdsDfiq4NxM-oal" alt="Us together 1" onerror="this.src='https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=400&h=400&fit=crop'">
                </div>
                <div class="photo-item">
                    <img src="https://lh3.googleusercontent.com/d/1kbVTKbpDJXb_Rd7iNv4byy6kJLFaCHL3" alt="Us together 2" onerror="this.src='https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=400&h=400&fit=crop'">
                </div>
                <div class="photo-item">
                    <img src="https://lh3.googleusercontent.com/d/1b0j7BU04ruOvjuMFqD_G16S88Hi2cQz0" alt="Us together 3" onerror="this.src='https://images.unsplash.com/photo-1518568814500-bf0f8d125f46?w=400&h=400&fit=crop'">
                </div>
                <div class="photo-item">
                    <img src="https://lh3.googleusercontent.com/d/1VL6EiTZ6O-dnn6-EYgU4JCh8wsVH4GLd" alt="Us together 4" onerror="this.src='https://images.unsplash.com/photo-1522673607176-f15728e2c338?w=400&h=400&fit=crop'">
                </div>
                <!-- Row 2 -->
                <div class="photo-item">
                    <img src="https://lh3.googleusercontent.com/d/1yXsXxcB9eU5A1ekTI-a-SmYf7VjTGfuh" alt="Us together 5" onerror="this.src='https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400&h=400&fit=crop'">
                </div>
                <div class="photo-item">
                    <img src="https://lh3.googleusercontent.com/d/1Yt31wH9jZyowxWI3VB6F6LzJBRfMn5Eh" alt="Us together 6" onerror="this.src='https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=400&h=400&fit=crop'">
                </div>
                <div class="photo-item">
                    <img src="https://lh3.googleusercontent.com/d/1Naqzh6-fSvekUPCxC7m8L0MHgi_BjkTJ" alt="Us together 7" onerror="this.src='https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400&h=400&fit=crop'">
                </div>
                <div class="photo-item">
                    <img src="https://lh3.googleusercontent.com/d/1wTYkPQNB4uGmnvGyTCqhOonPhTAa60sG" alt="Us together 8" onerror="this.src='https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop'">
                </div>
            </div>
        </div>
    </div>

    <script>
        // Create floating hearts background
        function createFloatingHearts() {
            const heartsBackground = document.getElementById('heartsBackground');
            const heartSymbols = ['üíï', 'üíñ', 'üíó', 'üíì', 'üíù', '‚ù§Ô∏è', 'üå∏'];
            
            for (let i = 0; i < 15; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.textContent = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 15 + 's';
                heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
                heartsBackground.appendChild(heart);
            }
        }

        createFloatingHearts();

        // Button elements
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const buttonContainer = document.getElementById('buttonContainer');
        const proposalScreen = document.getElementById('proposalScreen');
        const celebrationScreen = document.getElementById('celebrationScreen');
        const proposalGif = document.getElementById('proposalGif');
        const confettiOverlay = document.getElementById('confettiOverlay');

        let noButtonAttempts = 0;
        let isMoving = false;
        let mouseMoveHandler = null;

        // Extended messages with custom Malayalam/English phrases
        const messages = [
            'No üò§',
            'Are you sure? ü§î',
            'Really? üòÆ',
            'Think about it... üí≠',
            'Please? ü•∫',
            'Pretty please? üôè‚ú®',
            'One more chance? üéØ',
            'Please Shuttumma ü§ê',
            'Inte muthmani alle, pleaaaaaaaaaaaaaaaaaaaaaaaase ü•∫üëâüëà',
            'Inte kunjappu alleeeeeee???? üë∂üíï',
            'Please thankakkudam? üç∫üòã',
            'Pleaseeeeeeeeeeeeeeeee, Ameenu might be stupid, but he is a good boy ü§ìüíù',
            'Njan karayueeeeeee üò≠üò≠üò≠',
            'Inte muthin ennum chorum sambharum indakkithera? üçõüë®‚Äçüç≥',
            'Inte muthin koreee kallummakkaya achar indakkithera? ü¶™ü•ò‚ú®',
            'No parayalllaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa üôèüö´',
            'paryalla ponnuuuuuuuuuuuuuuu üíïüò¢',
            'nokkk oool theeere kekknillaaa üò§üôâ',
            'oru snehollaaa Richukkk ü•∫‚ù§Ô∏è',
            'Pandokke inte valentine aavo choichittillelu yes parnneernnn üò¢üíî',
            'Ippo okkkee marinddddd üíîüòû',
            'Okedaaa okkke mansilavend inkkk üòîüëç',
            'Paaaaaaaaaaaawalle njan ponnu üêæüòø'
        ];

        // Function to move "No" button to random position
        function moveNoButton() {
            if (isMoving) return;
            isMoving = true;

            const container = buttonContainer.getBoundingClientRect();
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            
            // Calculate safe boundaries (with padding)
            const padding = 30;
            const buttonWidth = noBtn.offsetWidth;
            const buttonHeight = noBtn.offsetHeight;
            
            // Use viewport for more space to move
            const maxX = viewportWidth - buttonWidth - padding * 2;
            const maxY = viewportHeight - buttonHeight - padding * 2;
            
            // Generate random position anywhere on screen
            let randomX = Math.random() * maxX;
            let randomY = Math.random() * maxY;
            
            // Apply fixed positioning to move anywhere on screen
            noBtn.style.position = 'fixed';
            noBtn.style.left = randomX + 'px';
            noBtn.style.top = randomY + 'px';
            
            noButtonAttempts++;
            
            // Make Yes button grow progressively
            if (noButtonAttempts > 2) {
                const scale = 1 + (noButtonAttempts - 2) * 0.12;
                yesBtn.style.transform = `scale(${Math.min(scale, 1.6)})`;
            }
            
            // Make No button smaller progressively but keep it readable
            if (noButtonAttempts > 3) {
                const scale = Math.max(0.75, 1 - (noButtonAttempts - 3) * 0.04);
                noBtn.style.transform = `scale(${scale})`;
            }
            
            // Change text based on attempts
            if (noButtonAttempts < messages.length) {
                noBtn.textContent = messages[noButtonAttempts];
                // Let CSS handle the sizing - remove inline width restrictions
            } else {
                // After all messages, convert No button to Yes!
                noBtn.textContent = 'Yes! üíñ';
                noBtn.className = 'yes-btn';
                noBtn.style.position = 'relative';
                noBtn.style.transform = 'scale(1)';
                noBtn.style.left = '0';
                noBtn.style.top = '0';
                // Remove all evasion listeners
                noBtn.removeEventListener('mouseenter', moveNoButton);
                noBtn.removeEventListener('touchstart', touchStartHandler);
                noBtn.removeEventListener('click', clickHandler);
                if (mouseMoveHandler) {
                    document.removeEventListener('mousemove', mouseMoveHandler);
                }
                // Make it trigger yes action
                noBtn.addEventListener('click', handleYesClick);
            }
            
            setTimeout(() => {
                isMoving = false;
            }, 150);
        }

        // More aggressive cursor proximity detection
        function setupProximityDetection() {
            mouseMoveHandler = function(e) {
                if (noButtonAttempts >= messages.length) return; // Stop when converted to Yes
                
                const buttonRect = noBtn.getBoundingClientRect();
                const buttonCenterX = buttonRect.left + buttonRect.width / 2;
                const buttonCenterY = buttonRect.top + buttonRect.height / 2;
                
                const distance = Math.sqrt(
                    Math.pow(e.clientX - buttonCenterX, 2) + 
                    Math.pow(e.clientY - buttonCenterY, 2)
                );
                
                // Detect from much farther away and move more aggressively
                const detectionRadius = 150; // Increased from default
                
                if (distance < detectionRadius && !isMoving) {
                    moveNoButton();
                }
            };
            
            document.addEventListener('mousemove', mouseMoveHandler);
        }

        setupProximityDetection();

        // Desktop: Move on hover
        noBtn.addEventListener('mouseenter', moveNoButton);

        // Mobile: Move on touch start
        const touchStartHandler = (e) => {
            e.preventDefault();
            moveNoButton();
        };
        noBtn.addEventListener('touchstart', touchStartHandler);

        // Also move on click attempt
        const clickHandler = (e) => {
            e.preventDefault();
            moveNoButton();
        };
        noBtn.addEventListener('click', clickHandler);

        // Handle Yes click
        function handleYesClick() {
            // Disable button to prevent double clicks
            yesBtn.disabled = true;
            if (noBtn) noBtn.disabled = true;
            
            // Change to celebration GIF immediately
            proposalGif.src = 'https://media.giphy.com/media/g9582DNuQppxC/giphy.gif';
            
            // Create confetti
            createConfetti();
            
            // Smooth transition sequence (slowed down 2x)
            setTimeout(() => {
                // Start hiding proposal screen (text and buttons fade, GIF moves up)
                proposalScreen.classList.add('hiding');
                
                // After proposal screen elements start fading, show celebration content
                setTimeout(() => {
                    // Don't hide proposal screen completely - keep GIF visible
                    // Just hide the text and buttons
                    
                    // Show celebration screen
                    celebrationScreen.style.display = 'block';
                    
                    // Trigger reflow to ensure transition works
                    celebrationScreen.offsetHeight;
                    
                    // Activate celebration screen (triggers transition)
                    setTimeout(() => {
                        celebrationScreen.classList.add('active');
                        
                        // After celebration screen is visible, hide proposal screen completely
                        setTimeout(() => {
                            proposalScreen.style.display = 'none';
                        }, 1000);
                    }, 100);
                }, 1200); // Match the hiding transition duration (doubled)
            }, 2000); // Wait longer for confetti effect (doubled)
        }

        // Create confetti
        function createConfetti() {
            const colors = ['#FF1493', '#FF69B4', '#FFB6C1', '#FF1493', '#FFC0CB'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti-piece';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                confettiOverlay.appendChild(confetti);
            }
            
            confettiOverlay.classList.add('active');
            
            setTimeout(() => {
                confettiOverlay.classList.remove('active');
                confettiOverlay.innerHTML = '';
            }, 3000);
        }

        // Yes button click handler
        yesBtn.addEventListener('click', handleYesClick);

        // Initialize No button position
        window.addEventListener('load', () => {
            // Position No button initially
            noBtn.style.position = 'relative';
            noBtn.style.left = '0';
            noBtn.style.top = '0';
        });
    </script>
</body>
</html>
